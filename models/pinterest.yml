version: 2

models:
  - name: pinterest_ads__url_report
    description: Each record in this table represents the daily performance of ads at the advertiser, campaign, ad group, and url level.
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - pin_promotion_id
            - ad_group_id
            - campaign_id
            - advertiser_id
            - date_day
    columns:
      - name: date_day
        description: "{{ doc('date_day') }}"
        tests:
          - not_null
      - name: advertiser_id
        description: "{{ doc('advertiser_id') }}"
      - name: advertiser_name
        description: Name of the advertiser.
      - name: campaign_status
        description: Status of the campaign.
      - name: ad_group_status
        description: Status of the ad group.
      - name: destination_url
        description: Pin destination URL.
      - name: pin_promotion_id
        description: "{{ doc('pin_promotion_id') }}"
        tests:
          - not_null
      - name: pin_name
        description: Pin promotion name.
      - name: pin_status
        description: The status of the Pin promotion. One of "ACTIVE", "ARCHIVED", "PAUSED"
      - name: creative_type
        description: |
          The creative type. 
          One of "APP", "APP_VIDEO", "BOARD", "CAROUSEL", "CINEMATIC", "COMMERCE", "MAX_VIDEO", "NATIVE_VIDEO", "REGULAR", 
          "SEARCH_PROMINENCE", "SEARCH_PROMINENCE_CAROUSEL", "SHOPPING", "SHOP_THE_PIN", "THIRD_PARTY", or "VIDEO".
      - name: base_url
        description: The base URL of the ad, extracted from the `destination_url`.
      - name: url_host
        description: The URL host of the ad, extracted from the `destination_url`.
      - name: url_path
        description: The URL path of the ad, extracted from the `destination_url`.
      - name: utm_source
        description: The utm_source parameter of the ad, extracted from the `destination_url`.
      - name: utm_medium
        description: The utm_medium parameter of the ad, extracted from the `destination_url`.
      - name: utm_campaign
        description: The utm_campaign parameter of the ad, extracted from the `destination_url`.
      - name: utm_content
        description: The utm_content parameter of the ad, extracted from the `destination_url`.
      - name: utm_term
        description: The utm_term parameter of the ad, extracted from the `destination_url`.
      - name: campaign_id
        description: "{{ doc('campaign_id') }}"
      - name: campaign_name
        description: The name of the related Campaign.
      - name: ad_group_id
        description: "{{ doc('ad_group_id') }}"
      - name: ad_group_name
        description: The name of the related Ad group.
      - name: impressions
        description: "{{ doc('impressions') }}"
      - name: clicks
        description: "{{ doc('clicks') }}"
      - name: spend
        description: "{{ doc('spend') }}"

  - name: pinterest_ads__ad_group_report
    description: Each record in this table represents the daily performance of ads at the campaign, advertiser, and ad group level.
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - ad_group_id
            - advertiser_id
            - campaign_id
            - date_day
    columns:
      - name: date_day
        description: "{{ doc('date_day') }}"
        tests:
          - not_null
      - name: advertiser_id
        description: "{{ doc('advertiser_id') }}"
      - name: advertiser_name
        description: Name of the advertiser.
      - name: campaign_id
        description: "{{ doc('campaign_id') }}"
      - name: campaign_name
        description: The name of the related Campaign.
      - name: campaign_status
        description: Status of the campaign.
      - name: ad_group_id
        description: "{{ doc('ad_group_id') }}"
        tests:
          - not_null
      - name: ad_group_name
        description: The name of the related Ad group.
      - name: ad_group_status
        description: Status of the ad group.
      - name: created_at
        description: Ad group creation time.
      - name: start_time
        description: Ad group start time. 
      - name: end_time
        description: Ad group end time. 
      - name: impressions
        description: "{{ doc('impressions') }}"
      - name: clicks
        description: "{{ doc('clicks') }}"
      - name: spend
        description: "{{ doc('spend') }}"

  - name: pinterest_ads__campaign_report
    description: Each record in this table represents the daily performance of ads at the advertiser and campaign level.
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - campaign_id
            - advertiser_id
            - date_day
    columns:
      - name: date_day
        description: "{{ doc('date_day') }}"
        tests:
          - not_null
      - name: advertiser_id
        description: "{{ doc('advertiser_id') }}"
      - name: advertiser_name
        description: Name of the advertiser.
      - name: campaign_id
        description: "{{ doc('campaign_id') }}"
        tests:
          - not_null
      - name: campaign_name
        description: The name of the related Campaign.
      - name: campaign_status
        description: Status of the campaign.
      - name: impressions
        description: "{{ doc('impressions') }}"
      - name: clicks
        description: "{{ doc('clicks') }}"
      - name: spend
        description: "{{ doc('spend') }}"

  - name: pinterest_ads__advertiser_report
    description: Each record in this table represents the daily performance of an advertiser on the Pinterest Ads platform.
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - advertiser_id
            - date_day
    columns:
      - name: date_day
        description: "{{ doc('date_day') }}"
        tests:
          - not_null
      - name: advertiser_name
        description: Name of the advertiser.
      - name: advertiser_id
        description: "{{ doc('advertiser_id') }}"
        tests:
          - not_null
      - name: advertiser_status
        description: Status of the advertiser account.
      - name: currency_code
        description: The currency code which the advertiser is set up using.
      - name: country
        description: The country code where the advertiser is located.
      - name: billing_type
        description: The billing type of the advertiser. Will typically be CREDIT_CARD or INVOICE.
      - name: spend
        description: "{{ doc('spend') }}"
      - name: clicks
        description: "{{ doc('clicks') }}"
      - name: impressions
        description: "{{ doc('impressions') }}"

  - name: pinterest_ads__keyword_report
    description: Each record in this table represents the daily performance of a keyword at the advertiser, campaign, ad group, and keyword level.
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - keyword_id
            - ad_group_id
            - campaign_id
            - advertiser_id
            - date_day
    columns:
      - name: date_day
        description: "{{ doc('date_day') }}"
        tests:
          - not_null
      - name: advertiser_name
        description: Name of the advertiser.
      - name: advertiser_id
        description: "{{ doc('advertiser_id') }}"
      - name: campaign_name
        description: Name of the campaign.
      - name: campaign_id
        description: "{{ doc('campaign_id') }}"
      - name: ad_group_name
        description: Name of the ad group.
      - name: ad_group_id
        description: "{{ doc('ad_group_id') }}"
      - name: keyword_id
        description: Unique identifier of the keyword.
        tests:
          - not_null
      - name: match_type
        description: Type of match the keyword is tied to. Either Exact or Broad.
      - name: parent_type
        description: Identifier of what grain the parent type is. Ad group or campaign.
      - name: keyword_value
        description: The text value that makes upd the keyword.
      - name: spend
        description: "{{ doc('spend') }}"
      - name: clicks
        description: "{{ doc('clicks') }}"
      - name: impressions
        description: "{{ doc('impressions') }}"

  - name: pinterest_ads__pin_promotion_report
    description: Each record in this table represents the daily performance of ads at the advertiser, campaign, ad group, and pin level.
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - pin_promotion_id
            - ad_group_id
            - campaign_id
            - advertiser_id
            - date_day
    columns:
      - name: date_day
        description: "{{ doc('date_day') }}"
        tests:
          - not_null
      - name: advertiser_id
        description: "{{ doc('advertiser_id') }}"
      - name: advertiser_name
        description: Name of the advertiser.
      - name: campaign_id
        description: "{{ doc('campaign_id') }}"
      - name: campaign_name
        description: Name of the campaign.
      - name: campaign_status
        description: Status of the campaign.
      - name: ad_group_id
        description: "{{ doc('ad_group_id') }}"
      - name: ad_group_name
        description: Name of the ad group.
      - name: ad_group_status
        description: Status of the ad group.
      - name: creative_type
        description: |
          The creative type. 
          One of "APP", "APP_VIDEO", "BOARD", "CAROUSEL", "CINEMATIC", "COMMERCE", "MAX_VIDEO", "NATIVE_VIDEO", "REGULAR", 
          "SEARCH_PROMINENCE", "SEARCH_PROMINENCE_CAROUSEL", "SHOPPING", "SHOP_THE_PIN", "THIRD_PARTY", or "VIDEO".
      - name: pin_promotion_id
        description: "{{ doc('pin_promotion_id') }}"
        tests: 
          - not_null
      - name: pin_name
        description: Name of the pin.
      - name: pin_status
        description: Status of the pin.
      - name: destination_url
        description: Pin destination URL.
      - name: base_url
        description: The base URL of the ad, extracted from the `destination_url`.
      - name: clicks
        description: "{{ doc('clicks') }}"
      - name: impressions
        description: "{{ doc('impressions') }}"
      - name: spend
        description: "{{ doc('spend') }}"
