version: 2

models:
  - name: pinterest_ads__url_report
    description: Each record in this table represents the daily performance of ads at the ad group and url level.
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - pin_promotion_id
            - date_day
    columns:
      - name: campaign_date
        description: The performance date of the record.
      - name: base_url
        description: The base URL of the ad, extracted from the `destination_url`.
      - name: url_host
        description: The URL host of the ad, extracted from the `destination_url`.
      - name: url_path
        description: The URL path of the ad, extracted from the `destination_url`.
      - name: utm_source
        description: The utm_source parameter of the ad, extracted from the `destination_url`.
      - name: utm_medium
        description: The utm_medium parameter of the ad, extracted from the `destination_url`.
      - name: utm_campaign
        description: The utm_campaign parameter of the ad, extracted from the `destination_url`.
      - name: utm_content
        description: The utm_content parameter of the ad, extracted from the `destination_url`.
      - name: utm_term
        description: The utm_term parameter of the ad, extracted from the `destination_url`.
      - name: campaign_id
        description: The ID of the related Campaign.
      - name: campaign_name
        description: The name of the related Campaign.
      - name: ad_group_id
        description: The ID of the related Ad group.
      - name: ad_group_name
        description: The name of the related Ad group.
      - name: platform
        description: 'Pinterest Ads'
      - name: impressions
        description: The number of impressions that occurred on the day of the record.
      - name: clicks
        description: The number of clicks that occurred on the day of the record.
      - name: spend
        description: The amount of spend that occurred on the day of the record.

  - name: pinterest_ads__ad_group_report
    description: Each record in this table represents the daily performance of ads at the ad group level.
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - ad_group_id
            - date_day
    columns:
      - name: campaign_date
        description: The performance date of the record.
      - name: campaign_id
        description: The ID of the related Campaign.
      - name: campaign_name
        description: The name of the related Campaign.
      - name: ad_group_id
        description: The ID of the related Ad group.
      - name: ad_group_name
        description: The name of the related Ad group.
      - name: impressions
        description: The number of impressions that occurred on the day of the record.
      - name: clicks
        description: The number of clicks that occurred on the day of the record.
      - name: spend
        description: The amount of spend that occurred on the day of the record.

  - name: pinterest_ads__campaign_report
    description: Each record in this table represents the daily performance of ads at the campaign level.
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - campaign_id
            - date_day
    columns:
      - name: campaign_date
        description: The performance date of the record.
      - name: campaign_id
        description: The ID of the related Campaign.
      - name: campaign_name
        description: The name of the related Campaign.
      - name: impressions
        description: The number of impressions that occurred on the day of the record.
      - name: clicks
        description: The number of clicks that occurred on the day of the record.
      - name: spend
        description: The amount of spend that occurred on the day of the record.

  - name: pinterest_ads__advertiser_report
    description: TBD
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - advertiser_id
            - date_day

  - name: pinterest_ads__keyword_report
    description: TBD
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - keyword_id
            - date_day

  - name: pinterest_ads__pin_promotion_report
    description: TBD
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - pin_promotion_id
            - date_day
